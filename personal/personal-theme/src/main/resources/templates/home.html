<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{ezytheme}">
<body>
<div layout:fragment="content">
    <div class="hero">
        <div class="container">
            <div class="left">
                <h1 class="h1">
                    <th:block th:if="${headingFragments.get('description').title != 'description'}"
                              th:utext="${headingFragments.get('description').title}">
                    </th:block>
                </h1>
                <p class="h3">
                    <th:block th:if="${headingFragments.get('description').content != 'description'}"
                              th:utext="${headingFragments.get('description').content}">
                    </th:block>
                </p>
                <div class="btn-group">
                    <a href="/contact-us" class="btn btn-primary">[[#{contact}]]</a>
                    <a href="/about-us" class="btn btn-secondary">[[#{about_me}]]</a>
                </div>
            </div>
            <div class="right">
                <div class="pattern-bg"></div>
                <div class="img-box">
                    <img th:src="${!#strings.isEmpty(webBannerImageUrl) ? webBannerImageUrl : '/images/hero.png'}"
                         class="hero-img" th:alt="#{banner}"/>
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="main">
        <div class="container">
            <div class="blog">
                <h2 class="h2">[[#{latest_blog_posts}]]</h2>
                <div class="blog-card-group" id="blogListBody">
                    <th:block th:each="blog : ${pagination.items}">
                        <th:block th:replace="~{fragments/blog-item :: content(blog=${blog})}" />
                    </th:block>
                </div>
                <button th:if="${pagination.continuation.hasNext}"
                        type="button" class="btn load-more"
                        id="loadMoreBlogButton"
                        onclick="fetchBlogList('next')">
                    [[#{load_more}]]
                </button>
            </div>
            <div class="aside">
                <div class="topics">
                    <h2 class="h2">[[#{topics}]]</h2>
                    <a th:each="topCategory : ${topCategories}"
                       th:href="${'/blogs/' + topCategory.slug}"
                       class="topic-btn">
                        <div class="icon-box">
                            <img th:if="${topCategory.titleImage != null}"
                                 th:src="${topCategory.titleImage.getUrlOrNull()}">
                        </div>
                        <p>[[${topCategory.name}]]</p>
                    </a>
                </div>
                <div class="tags">
                    <h2 class="h2">[[#{tags}]]</h2>
                    <div class="wrapper">
                        <a th:each="topTag : ${topTags}" class="hashtag"
                           th:href="${'/blogs/' + topTag.slug}">
                            #[[${topTag.name}]]
                        </a>
                    </div>
                </div>
                <div class="contact">
                    <h2 class="h2">[[#{lets_talk}]]</h2>
                    <div class="wrapper">
                        <p>[[#{contact_description}]]</p>
                        <ul class="social-link">
                            <li th:if="${socialNetworkMapByDisplayName.get('Discord') != null}">
                                <a th:href="${socialNetworkMapByDisplayName.get('Discord').profileUrl}"
                                   class="icon-box discord">
                                    <ion-icon name="logo-discord"></ion-icon>
                                </a>
                            </li>
                            <li th:if="${socialNetworkMapByDisplayName.get('X'.toString()) != null}">
                                <a th:href="${socialNetworkMapByDisplayName.get('X'.toString()).profileUrl}"
                                   class="icon-box twitter">
                                    <ion-icon name="logo-twitter"></ion-icon>
                                </a>
                            </li>
                            <li th:if="${socialNetworkMapByDisplayName.get('Facebook') != null}">
                                <a th:href="${socialNetworkMapByDisplayName.get('Facebook').profileUrl}"
                                    class="icon-box facebook">
                                    <ion-icon name="logo-facebook"></ion-icon>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="newsletter">
                    <h2 class="h2">[[#{newsletter}]]</h2>
                    <div class="wrapper">
                        <p>[[#{newsletter_description}]]</p>
                        <form id="subscribeForm" onsubmit="return false;">
                            <input type="email" name="email" th:placeholder="#{email_address}" required
                                   onkeydown="onKeydownToSubscribe();">
                            <button type="button" class="btn btn-primary" onclick="onSubscribeClick();">
                                [[#{subscribe}]]
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<th:block layout:fragment="scripts" th:inline="javascript">
    <th:block th:replace="~{fragments/scripts :: blog-list}" />
    <th:block th:replace="~{fragments/scripts :: subscribe}" />
</th:block>
</body>
</html>
