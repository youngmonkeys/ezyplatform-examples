<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="content">
    <div class="blog-card">
        <div class="blog-card-banner">
            <img th:if="${blog.featuredImage != null}"
                 th:src="${blog.featuredImage.getUrlOrNull()}"
                 th:alt="${blog.featuredImage.originalName}"
                 width="250" class="blog-banner-img">
        </div>
        <div class="blog-content-wrapper">
            <a class="blog-topic text-tiny"
               th:href="${blog.terms.size() > 0 ? ('/blogs/' + blog.terms[0].slug) : 'javascript:void(0)'}">
                <th:block th:if="${blog.terms.size() > 0}">
                    [[${blog.terms[0].name}]]
                </th:block>
            </a>
            <h3>
                <a th:href="${'/blog/' + blog.slug}" class="h3">
                    [[${blog.title}]]
                </a>
            </h3>
            <div class="blog-text" th:text="${blog.shortedContent}"></div>
            <div class="wrapper-flex">
                <div class="profile-wrapper">
                    <img th:src="${blog.author != null && authorAvatarByUuid.get(blog.author.uuid) != null ? authorAvatarByUuid.get(blog.author.uuid).getUrlOrDefault('/images/author.png') : '/images/author.png'}"
                         th:alt="${blog.author != null ? blog.author.name : #messages.msg('author')}"
                         width="50">
                </div>
                <div class="wrapper">
                    <a th:if="${blog.author != null}"
                       th:href="${'/author/' + blog.author.uuid}" class="h4">
                        [[${blog.author.name}]]
                    </a>
                    <span th:if="${blog.author == null}" class="h4">[[#{author}]]</span>
                    <p class="text-sm">
                        <time class="date-time-minute-string">
                            [[${blog.publishedAt}]]
                        </time>
                        <span class="separator"></span>
                        <ion-icon name="time-outline"></ion-icon>
                        <time>
                            [[${readTimeInMinutesByPostId.getOrDefault(blog.id, 1L)}]] [[#{minute_short}]]
                        </time>
                    </p>
                </div>
            </div>
        </div>
    </div>
</th:block>
</body>
</html>
